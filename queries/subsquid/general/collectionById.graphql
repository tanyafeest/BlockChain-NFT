#import "../../fragments/collection.graphql"
#import "../../fragments/collectionDetails.graphql"

query collectionById(
  $id: ID!
  $search: [NFTEntityWhereInput!]
  $orderBy: CollectionEntityOrderByInput = blockNumber_DESC
  $first: Int!
  $offset: Int
) {
  collectionEntity(id: $id) {
    ...collection
    ...collectionDetails
    createdAt
    nfts(
      orderBy: [$orderBy, blockNumber_DESC]
      limit: $first
      offset: $offset
      where: { nfts_some: { burned_eq: false }, AND: $search }
    ) {
      id
      metadata
      name
      price
      burned
      currentOwner
    }
  }
}
